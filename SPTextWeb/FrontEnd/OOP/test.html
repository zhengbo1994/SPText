<!DOCTYPE html>
<html>
<head>
    <meta charset="utf-8" />
    <title>面向对象与面向过程</title>
</head>
<script src="https://code.jquery.com/jquery-3.4.1.min.js"></script>
<!-- <script src="js/main.js"></script> -->
<style type="text/css">


    ul, li {
        list-style-type: none;
    }

    .box-list, .box-list-two, .box-list-three {
        height: auto;
        overflow: auto;
        margin-bottom: 20px;
    }

        .box-list.active li {
            border-radius: 50%;
            background: red;
        }

        .box-list.active.second li {
            border-radius: 50%;
            background: blue;
        }

        .box-list li, .box-list-two li, .box-list-three li {
            width: 80px;
            height: 80px;
            background: #ff6600;
            margin: 30px;
            float: left;
            text-align: center;
            line-height: 80px;
        }

    .btn-group {
        clear: both;
        text-align: center;
    }

        .btn-group button {
            padding: 10px 15px;
            margin-right: 20px;
            cursor: pointer;
        }
</style>
<body>

    <!-- 需求： 需要点击一个按钮，可以让所有的正方形变成圆形,以及背景颜色和 字体发生变化 -->

    <ul class="box-list">
        <li>软谋</li>
        <li>软谋</li>
        <li>软谋</li>
        <li>软谋</li>
    </ul>
    <div class="btn-group">
        <button type="button" class="btn-begin">开始变化</button>
        <button type="button" class="btn-stop">恢复状态</button>
    </div>


    <script type="text/javascript">
        $(function () {
            var timer;
            //  面向过程
            // //第一步，找出class名为sign的所有的正方形,开始按钮， 停止按钮
            var $allOneLi = $('.box-list li');

            //第二步，找到开始按钮
            $('.btn-begin').on('click', function () {
                $allOneLi.css({ background: 'red', 'border-radius': '50%', color: '#fff' });
                timer = setTimeout(function () {
                    console.log(222);
                    $allOneLi.css({ background: 'blue', 'border-radius': '50%', color: '#fff' });
                }, 3000);
            })

            $('.btn-stop').on('click', function () {
                $allOneLi.removeAttr('style');
                clearTimeout(timer);
            })

            //面向对象的目的
            // 封装
            // 继承

            // 原则:
            // 功能要单一
            // 开放封闭的原则

            //字面量对象
            // var funObj = {
            //     beginAction(obj){
            //         var objInit = {
            //                 el:'.box-list li',
            //                 bg:'red',
            //                 radius:'50%',
            //                 color:'#fff',
            //                 tobg:'blue'
            //             };

            //       this.endObj = Object.assign({},objInit,obj);

            //       $(this.endObj.el).css({background:this.endObj.bg,'border-radius':this.endObj.radius,
            //       color:this.endObj.color});

            //     //  var that = this;
            //     //   this.timer = setTimeout(function(){
            //     //     that.setTime()
            //     //   })

            //     //   this.timer = setTimeout(function(){
            //     //     this.setTime()
            //     //   }.bind(this),3000)

            //       this.timer = setTimeout(()=>{
            //         this.setTime()
            //       },3000)

            //     },
            //     setTime(){
            //         $(this.endObj.el).css({background:this.endObj.tobg,'border-radius':this.endObj.radius,
            //       color:this.endObj.color});
            //     },
            //     endAction(){
            //         if(!this.timer){
            //             return;
            //         }
            //      clearTimeout(this.timer);
            //      $(this.endObj.el).removeAttr('style');
            //     }
            // }

            // $('.btn-begin').on('click',function(){
            //     funObj.beginAction();
            // })
            // $('.btn-stop').on('click',function(){
            //     funObj.endAction();

            //  })


            ////构造函数
            //function TestFun(obj){
            //    this.timer = null;
            //    var initObj = {
            //        el:'.box-list',
            //        sClass:'active',
            //        cClass:'second'
            //    };
            //    this.endObj = Object.assign({},initObj,obj);

            //}
            //TestFun.prototype= {
            //    beginAction:function(){
            //        $(this.endObj.el).addClass('active');
            //        this.timer = setTimeout(function(){
            //            $(this.endObj.el).addClass('second');
            //        }.bind(this),3000);
            //    },
            //    endAction:function(){
            //        if(!this.timer){
            //            return;
            //        }
            //        clearTimeout(this.timer);
            //        this.timer = null;
            //        $(this.endObj.el).removeClass('active second');
            //    }
            //}


            ////使用
            //var example = new TestFun();

            //$('.btn-begin').on('click',function(){
            //    example.beginAction();
            //})
            //$('.btn-stop').on('click',function(){
            //    example.endAction();

            // })



        })
    </script>
</body>

</html>